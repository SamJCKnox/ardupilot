include ../MatekL431/hwdef.inc

define CAN_APP_NODE_NAME "org.ardupilot.MatekL431-Medusa"

define HAL_PERIPH_ENABLE_BATTERY
define AP_BATT_MONITOR_MAX_INSTANCES 3

define HAL_USE_ADC TRUE
define STM32_ADC_USE_ADC1 TRUE

define HAL_BATT_MONITOR_DEFAULT 4       # Analogue voltage and current

define HAL_BATT_VOLT_PIN 11
define HAL_BATT_CURR_PIN 6

PA6 BATT_VOLTAGE_SENS  ADC1 SCALE(1)    #Bz- Pin
PA1 BATT_CURRENT_SENS  ADC1 SCALE(1)    #Curr Pin

define HAL_BATT2_VOLT_PIN 7
define HAL_BATT2_CURR_PIN 8

PA2 BATT2_VOLTAGE_SENS  ADC1 SCALE(1)   #Tx2 Pin
PA3 BATT2_CURRENT_SENS  ADC1 SCALE(1)   #Rx2 Pin

define HAL_BATT_VOLT_PIN 15
define HAL_BATT_CURR_PIN 16

PB0 BATT3_VOLTAGE_SENS ADC1 SCALE(1)    #VB2 Pin
PB1 BATT3_CURRENT_SENS ADC1 SCALE(1)    #Curr2 Pin

# Set up fuel flow 
define HAL_PERIPH_ENABLE_FUEL_FLOW TRUE